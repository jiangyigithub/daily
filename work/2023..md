# April.
## 4/13
## 4/17
- PI planning
## 4/18

## 4/23
1. debug ros python node `launch-prefix="xterm -e python -m pdb"`  
    for more: http://wiki.ros.org/roslaunch/Tutorials/Roslaunch%20Nodes%20in%20Valgrind%20or%20GDB
    python `PDB`: https://realpython.com/python-debugging-pdb/#getting-started-printing-a-variables-value
    ```bash
    # Set a breakpoint at line 10 of the current file
    break 10

    # Set a breakpoint at line 20 of the file "my_script.py"
    break my_script.py:20

    # Set a breakpoint at the start of the function "my_function"
    break my_script.my_function

    # Set a conditional breakpoint at line 30 of the current file
    break 30, some_variable == True
    ```

2. ros log `logwarn_throttle`  
    In ROS, logwarn_throttle is a method provided by the rospy Python library that allows you to log warning messages at a throttled rate.

    The logwarn_throttle method is similar to the rospy.logwarn method, but it limits the rate at which warning messages are printed to the console. This can be useful in situations where you have a large number of warnings that could overwhelm the console output, or when you want to avoid repeatedly printing the same warning message.

    Here's an example of how to use logwarn_throttle in a rospy node:
    ```python
    import rospy

    rospy.init_node('my_node')

    # Set the warning throttle rate to 10 seconds
    rospy.logwarn_throttle(10, "My warning message")

    # This warning message will only be printed every 10 seconds
    rospy.logwarn_throttle(10, "My warning message")

    # This warning message will be printed immediately
    rospy.logwarn("Another warning message")
    ```

    In this example, we first initialize a rospy node with the name "my_node".

    We then use the rospy.logwarn_throttle method to log a warning message with a throttle rate of 10 seconds. This means that the warning message will only be printed once every 10 seconds, even if the logwarn_throttle method is called multiple times.

    We then call logwarn_throttle again with the same warning message. Since the throttle rate is set to 10 seconds, this warning message will not be printed immediately, but will be queued and printed after the 10 second throttle period has elapsed.

    Finally, we use the rospy.logwarn method to log another warning message. This message will be printed immediately, regardless of the throttle rate set by logwarn_throttle.

    Note that logwarn_throttle can be used with any warning message, not just the string "My warning message" used in this example. You can also adjust the throttle rate to a different value by changing the first argument to logwarn_throttle.

3. `get_num_connections` for ROS python  
    In this code snippet, the get_num_connections() method is used to check if there are any subscribers to the topic associated with self.publisher.

    If get_num_connections() returns a value of 0, it means that there are no subscribers to the topic at the moment. In this case, the code returns from the function and does not publish the message.

    This can be useful in situations where you want to avoid publishing messages if there are no subscribers to the topic. By checking the number of connections before publishing the message, you can avoid unnecessary network traffic and processing.

    Here's an example of how you might use this code snippet in a rospy node:

    ```python

    import rospy
    from std_msgs.msg import String

    class MyNode:
        def __init__(self):
            self.publisher = rospy.Publisher('my_topic', String, queue_size=10)

        def publish_message(self, message):
            if self.publisher.get_num_connections() == 0:
                return
            self.publisher.publish(message)

    rospy.init_node('my_node')
    node = MyNode()

    message = String()
    message.data = 'Hello, world!'

    node.publish_message(message)
    ```

    In this example, we define a MyNode class with a publish_message() method that publishes a message to the my_topic topic if there are subscribers to the topic.

    We then initialize a rospy node, create a MyNode object, and call the publish_message() method with a String message.

    If there are no subscribers to the my_topic topic, the publish_message() method will return without publishing the message. If there are subscribers, the message will be published as usual.

## 4/24
1. RVIZ visulization

    RViz Plugin Development: This topic covers the development of custom RViz plugins for displaying custom visualizations in RViz. It includes topics such as creating custom `displays`, `panels`, and tools, as well as integrating custom ROS messages and services.

2. how to define coordinate frames in ROS

    ROS TF Transforms: This topic covers the use of the ROS TF (Transform) package for managing coordinate frames in ROS. It includes topics such as defining coordinate frames using URDF files or using a TF broadcaster node in robot software, as well as transforming coordinates between frames.
    - URDF (Unified Robot Description Format) file: URDF is an XML format used to describe a robot model. It includes information about the robot's links, joints, sensors, and other features. URDF files can be used to define coordinate frames for various parts of the robot.

    - TF broadcaster node: A TF broadcaster node is a ROS node that publishes transformations between coordinate frames. This node can be part of your robot software, and it can broadcast transformations based on sensor data or other inputs.[odometry demo](http://wiki.ros.org/navigation/Tutorials/RobotSetup/Odom)

3. vector usage  
    get element by the operation[], the system crash

## 4/26
1. Rviz:what the difference of panel and display in ros rviz  
    In ROS RViz, both "panels" and "displays" are used to visualize data, but they serve different purposes.

    A "panel" in RViz is a graphical user interface (GUI) component that provides additional functionality beyond what is provided by the main RViz display. Panels are typically used to modify the behavior or appearance of a display or to provide additional information about the data being visualized. For example, a panel might allow you to change the color of a marker, adjust the size of a point cloud, or enter a destination for a robot.

    A "display" in RViz, on the other hand, is the main component responsible for visualizing data. Displays are used to show data such as point clouds, laser scans, images, and other types of sensor data. Each display is associated with a particular topic in ROS, and updates its visualization whenever new data is received on that topic. Displays can be configured to show data in different ways, such as using different colors, sizes, or styles.

    In summary, panels are used to provide additional functionality or information to the user, while displays are used to actually visualize the data. Panels and displays can work together to create more powerful and customizable visualizations in RViz.

2. foxglove
    - To visualize a topic, the messages on that topic must conform to one of the known message schemas listed below.
    [message schemas list](https://foxglove.dev/docs/studio/panels/3d)
    - remapping topic , https://foxglove.dev/blog/using-message-converters-to-display-3d-markers-in-foxglove-studio
    - custom panel, 
    - User Scripts, https://foxglove.dev/docs/studio/panels/user-scripts

3. ROS TF

    [Robotics-Tutorial]https://articulatedrobotics.xyz/page2/
    http://wiki.ros.org/navigation/Tutorials/RobotSetup/TF

## 4/27
1. [ROS lecture](https://rsl.ethz.ch/education-students/lectures/ros.html)
2. how to get the value of shared pointer
3. common ROS message 
pcl::PointCloud<pcl::PointXYZI> 
sensor_msgs::PointCloud2>
4. ROS pub-sub mostest important concept
    - declare pub
    - define advertise
    - publish
    - constructor and callback
    - topic type and topic name

## 4/28
1. TF
rosrun tf2_ros static_transform_publisher 0.2 0 0.5 0 0 0 /baselink /laser 
https://zhuanlan.zhihu.com/p/358816230

2. foxglove message
ros_foxglove_msgs

## 5/8
1. TF

http://wiki.ros.org/tf/Debugging%20tools
https://www.ros.org/reps/rep-0105.html

https://inside-docupedia.bosch.com/confluence/display/MFAD/RRS+Coordinate+System+Study
https://inside-docupedia.bosch.com/confluence/display/HAD/Sensor

2. summary of material
[Robotics-Tutorial]https://articulatedrobotics.xyz/page2/
[ROS lecture](https://rsl.ethz.ch/education-students/lectures/ros.html)
[autonomous-racing-course]https://linklab-uva.github.io/autonomousracing/page3.html#content10-u

## 5/10
1. visualization objects in foxglove
visualization_msgs/Marker.msg
foxglove_msgs/CubePrimitive.msg
```python
# Position of the center of the cube and orientation of the cube
geometry_msgs/Pose pose

# Size of the cube along each axis
geometry_msgs/Vector3 size

# Color of the cube
foxglove_msgs/Color color
```
```python
geometry_msgs/Pose pose                 # Pose of the object
geometry_msgs/Vector3 scale             # Scale of the object 1,1,1 means default (usually 1 meter square)
std_msgs/ColorRGBA color             # Color [0.0-1.0]
```

## 5/11
1. URDF(fixed_joint)

2. URDF with Xacro